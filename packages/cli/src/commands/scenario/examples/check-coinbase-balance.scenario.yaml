# scenarios/definitions/check-coinbase-balance.scenario.yaml

name: 'Verify Agent Can Report Coinbase Wallet Balance'
description: "Tests the agent's ability to access its context from the Coinbase Wallet Provider and report the balances of all tokens for its default address."

plugins:
  - name: '@elizaos/plugin-coinbase'
    enabled: true
  - name: '@elizaos/plugin-github'
    enabled: true
  - name: '@elizaos/plugin-bootstrap'
    enabled: true
  - name: '@elizaos/plugin-sql'
    enabled: true
  - name: '@elizaos/plugin-openai'
    enabled: true

environment:
  type: local

run:
  - name: 'Ask agent for its balance'
    input: 'Read the balance of address 0xbcF7C64B880FA89a015970dC104E848d485f99A3 from the ERC20 contract at 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 on eth'
    evaluations:
      - type: trajectory_contains_action
        action: READ_CONTRACT
        description: Verify that the READ_CONTRACT action was executed
  - name: 'Create a new issue on Github'
    input: 'Create an issue on Github to add agent auth to the Coinbase Wallet Provider'
    evaluations:
      - type: trajectory_contains_action
        action: CREATE_ISSUE
        description: Verify that the CREATE_ISSUE action was executed

judgment:
  strategy: 'all_pass'
